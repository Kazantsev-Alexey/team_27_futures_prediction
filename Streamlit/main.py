'''
main.py

–û–ø–∏—Å–∞–Ω–∏–µ:
–≠—Ç–æ—Ç —Ñ–∞–π–ª —Å–ª—É–∂–∏—Ç –æ—Å–Ω–æ–≤–Ω—ã–º –≤—Ö–æ–¥–Ω—ã–º –ø—É–Ω–∫—Ç–æ–º –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è Streamlit, –∫–æ—Ç–æ—Ä–æ–µ –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–æ –¥–ª—è
–∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω –Ω–∞ —Ñ—å—é—á–µ—Ä—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏
–º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å CSV-—Ñ–∞–π–ª—ã, –∞ –∑–∞—Ç–µ–º –≤—ã–±–∏—Ä–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
–¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –∏ –∞–Ω–∞–ª–∏–∑–∞.

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
1. –ù–∞–≤–∏–≥–∞—Ü–∏—è:
   - –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –≤—ã–±–∏—Ä–∞—Ç—å –º–µ–∂–¥—É —Ç—Ä–µ–º—è –æ—Å–Ω–æ–≤–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏:
     a. '–û–ø–∏—Å–∞–Ω–∏–µ' - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ —Å –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–µ–π –æ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏ –∏ –µ–≥–æ —Ñ—É–Ω–∫—Ü–∏–æ–Ω–∞–ª—å–Ω–æ—Å—Ç–∏.
     b. 'EDA + –ø—Ä–µ–¥–∏–∫—Ç' - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è —Ä–∞–∑–≤–µ–¥—ã–≤–∞—Ç–µ–ª—å–Ω–æ–≥–æ –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö
        (Exploratory Data Analysis) –∏ –ø—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏—è –Ω–∞ –æ—Å–Ω–æ–≤–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö –¥–∞–Ω–Ω—ã—Ö.
     c. '–ù–æ–≤–æ—Å—Ç–∏' - —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è –ø–æ—Å–ª–µ–¥–Ω–∏–µ –Ω–æ–≤–æ—Å—Ç–∏ (FAQ, –æ–±–Ω–æ–≤–ª–µ–Ω–∏—è –∏ –ø—Ä.).

2. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –≤–∞—Ä–∏–∞–Ω—Ç–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
     a. –ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö - –ø–æ–¥–≥—Ä—É–∂–∞–µ—Ç –¥–∞–Ω–Ω—ã–µ —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å—ã –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö —Å –ø–æ–º–æ—â—å—é –º–æ–¥—É–ª—è database.py.
     b. –ó–∞–≥—Ä—É–∑–∫–∞ CSV-—Ñ–∞–π–ª–∞ - –ø–æ–∑–≤–æ–ª—è–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –∑–∞–≥—Ä—É–∂–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ CSV-—Ñ–∞–π–ª—ã, –∏—Å–ø–æ–ª—å–∑—É—è
        –≤—Å—Ç—Ä–æ–µ–Ω–Ω—ã–π –∑–∞–≥—Ä—É–∑—á–∏–∫ —Ñ–∞–π–ª–æ–≤ Streamlit. –î–∞–Ω–Ω—ã–µ –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—é—Ç—Å—è —Å –ø–æ–º–æ—â—å—é –º–æ–¥—É–ª—è database_csv.py.

3. –°—Ç—Ä—É–∫—Ç—É—Ä–∞ –∫–æ–¥–∞:
   - –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `main()` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç —Å—Ç—Ä–∞–Ω–∏—Ü—É –∏ —Å–∞–π–¥–±–∞—Ä, —É–ø—Ä–∞–≤–ª—è–µ—Ç –∑–∞–≥—Ä—É–∑–∫–æ–π –¥–∞–Ω–Ω—ã—Ö –∏
     –≤—ã–∑–æ–≤–∞–º–∏ –¥–ª—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω—ã—Ö —Å—Ç—Ä–∞–Ω–∏—Ü.
   - –§—É–Ω–∫—Ü–∏—è `navigation()` –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞–µ—Ç –ª–æ–≥–∏–∫—É –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –º–µ–∂–¥—É —Ä–∞–∑–Ω—ã–º–∏ —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è.

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
- –ü—Ä–∏ –Ω–µ–≤—ã–±–æ—Ä–µ –æ–ø—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –∏–ª–∏ –ø—Ä–∏ –æ—Ç—Å—É—Ç—Å—Ç–≤–∏–∏ –¥–∞–Ω–Ω—ã—Ö –æ—Ç–æ–±—Ä–∞–∂–∞—é—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–µ –ø—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è,
  —á—Ç–æ–±—ã –Ω–∞–ø—Ä–∞–≤–∏—Ç—å –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –Ω–∞ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –¥–µ–π—Å—Ç–≤–∏—è.
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –∫—ç—à–∏—Ä–æ–≤–∞–Ω–∏–µ –¥–ª—è –æ–ø—Ç–∏–º–∏–∑–∞—Ü–∏–∏ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–æ–≤—ã—à–µ–Ω–∏—è –ø—Ä–æ–∏–∑–≤–æ–¥–∏—Ç–µ–ª—å–Ω–æ—Å—Ç–∏.

'''

import streamlit as st

# –ù–∞–≤–∏–≥–∞—Ü–∏—è
def navigation():
    st.sidebar.title('–ù–∞–≤–∏–≥–∞—Ü–∏—è')
    page = st.sidebar.radio('–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É:',
                            ['–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö', '–ù–æ–≤–æ—Å—Ç–∏'])
    if page == '–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö':
        import EDA_page
        EDA_page.run()
    elif page == '–ù–æ–≤–æ—Å—Ç–∏':
        import news
        news.run()

def main():
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    st.set_page_config(page_title='–ö–æ–º–∞–Ω–¥–∞ 27', page_icon='üìà')
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∞–π–¥–µ–±–∞—Ä–∞ —Å–ª–µ–≤–∞
    st.sidebar.title('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞')
    upload_option = st.sidebar.radio('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏:',
                                     ['–ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö', '–ó–∞–≥—Ä—É–∑–∫–∞ CSV-—Ñ–∞–π–ª–∞'], index=None)

    flag = 0
    if upload_option == '–ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö':
        flag = 1
    elif upload_option == '–ó–∞–≥—Ä—É–∑–∫–∞ CSV-—Ñ–∞–π–ª–∞':
        data = st.sidebar.file_uploader("**–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV-—Ñ–∞–π–ª**", type=["csv"])
        if data is not None:
            import database_csv
            flag = database_csv.run(data)
        else:
            st.title(':blue[–ö–æ–º–∞–Ω–¥–∞ 27. "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω –Ω–∞ —Ñ—å—é—á–µ—Ä—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö"]')
            st.warning('### –ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV-—Ñ–∞–π–ª –≤ –ª–µ–≤–æ–º –æ–∫–æ—à–∫–µ ###')
            st.write('–í–∞—à CSV-—Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è –±—ã 3 —Å—Ç–æ–ª–±–∏–∫–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏: "close", "business_date", "ticker"')
    else:
        import page1
        page1.run()

    if flag == 1:
        navigation()

if __name__ == "__main__":
    main()
