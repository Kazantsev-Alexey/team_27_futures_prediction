'''
main.py

–û–ø–∏—Å–∞–Ω–∏–µ:
–≠—Ç–æ—Ç —Ñ–∞–π–ª –ø—Ä–µ–¥—Å—Ç–∞–≤–ª—è–µ—Ç —Å–æ–±–æ–π –æ—Å–Ω–æ–≤–Ω–æ–π –≤—Ö–æ–¥–Ω–æ–π –ø—É–Ω–∫—Ç –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è, —Ä–∞–∑—Ä–∞–±–æ—Ç–∞–Ω–Ω–æ–≥–æ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º
Streamlit, –ø—Ä–µ–¥–Ω–∞–∑–Ω–∞—á–µ–Ω–Ω–æ–≥–æ –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –≤—ã—è–≤–ª–µ–Ω–∏—è –∑–∞–∫–æ–Ω–æ–º–µ—Ä–Ω–æ—Å—Ç–µ–π –≤ —Ü–µ–Ω–∞—Ö –Ω–∞ —Ñ—å—é—á–µ—Ä—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ
—Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö. –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –¥–∞–Ω–Ω—ã–µ –∏–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö –∏–ª–∏ –∑–∞–≥—Ä—É–∂–∞—Ç—å CSV-—Ñ–∞–π–ª—ã, –∞ —Ç–∞–∫–∂–µ
–≤—ã–±–∏—Ä–∞—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ —Å—Ç—Ä–∞–Ω–∏—Ü—ã –¥–ª—è –∞–Ω–∞–ª–∏–∑–∞.

–§—É–Ω–∫—Ü–∏–æ–Ω–∞–ª:
1. –ù–∞–≤–∏–≥–∞—Ü–∏—è:
   - –ë–æ–∫–æ–≤–∞—è –ø–∞–Ω–µ–ª—å –ø—Ä–µ–¥–ª–∞–≥–∞–µ—Ç –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è–º –≤—ã–±—Ä–∞—Ç—å –æ–¥–Ω—É –∏–∑ –¥–≤—É—Ö —Å—Ç—Ä–∞–Ω–∏—Ü:
     a. '–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö' - —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –¥–ª—è –ø—Ä–æ–≤–µ–¥–µ–Ω–∏—è –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö, –≥–¥–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∏—Å—Å–ª–µ–¥–æ–≤–∞—Ç—å
        –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã–µ –¥–∞–Ω–Ω—ã–µ –∏ –≤—ã–ø–æ–ª–Ω—è—Ç—å —Ä–∞–∑–ª–∏—á–Ω—ã–µ –∞–Ω–∞–ª–∏–∑—ã.
     b. '–ê–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π' - —Å—Ç—Ä–∞–Ω–∏—Ü–∞, –Ω–∞ –∫–æ—Ç–æ—Ä–æ–π –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –ø—Ä–æ—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏ –∞–Ω–∞–ª–∏–∑–∏—Ä–æ–≤–∞—Ç—å
        –Ω–æ–≤–æ—Å—Ç–∏, —Å–≤—è–∑–∞–Ω–Ω—ã–µ —Å —Ñ—å—é—á–µ—Ä—Å–∞–º–∏.

2. –ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞–Ω–Ω—ã—Ö:
   - –ü–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –≤—ã–±—Ä–∞—Ç—å –æ–¥–∏–Ω –∏–∑ –¥–≤—É—Ö –º–µ—Ç–æ–¥–æ–≤ –∑–∞–≥—Ä—É–∑–∫–∏ –¥–∞–Ω–Ω—ã—Ö:
     a. –ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö - –∏–Ω–∏—Ü–∏–∏—Ä—É–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–∏–π –∞–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö.
     b. –ó–∞–≥—Ä—É–∑–∫–∞ CSV-—Ñ–∞–π–ª–∞ - –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–∏ –º–æ–≥—É—Ç –∑–∞–≥—Ä—É–∂–∞—Ç—å –ª–æ–∫–∞–ª—å–Ω—ã–µ CSV-—Ñ–∞–π–ª—ã —á–µ—Ä–µ–∑ –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å
        –∑–∞–≥—Ä—É–∑–∫–∏ Streamlit. –¢–∞–∫–∂–µ –ø—Ä–æ–∏—Å—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫–∞ –Ω–∞ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤–∏–µ –∑–∞–≥—Ä—É–∂–µ–Ω–Ω—ã—Ö —Å—Ç–æ–ª–±—Ü–æ–≤ —Å –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã–º–∏
        –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏: "close", "business_date", "ticker".

3. –£–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –ø–æ—Ç–æ–∫–∞–º–∏:
   - –§—É–Ω–∫—Ü–∏—è `navigation()` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
     –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ –¥–∞—Ç–∞—Ñ—Ä–µ–π–º–∞ –∏–∑ –ë–î
   - –§—É–Ω–∫—Ü–∏—è `navigation_csv()` –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –æ—Ç–æ–±—Ä–∞–∂–µ–Ω–∏–µ –≤—ã–±—Ä–∞–Ω–Ω–æ–≥–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª–µ–º –∞–Ω–∞–ª–∏–∑–∞ –¥–∞–Ω–Ω—ã—Ö –∏ –ø–µ—Ä–µ–∫–ª—é—á–µ–Ω–∏–µ
     –º–µ–∂–¥—É —Å—Ç—Ä–∞–Ω–∏—Ü–∞–º–∏ –ø—Ä–∏ –∑–∞–≥—Ä—É–∑–∫–µ CSV-—Ñ–∞–π–ª–∞.
   - –û—Å–Ω–æ–≤–Ω–∞—è —Ñ—É–Ω–∫—Ü–∏—è `main()` –∏–Ω–∏—Ü–∏–∞–ª–∏–∑–∏—Ä—É–µ—Ç –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ, –Ω–∞—Å—Ç—Ä–∞–∏–≤–∞–µ—Ç —Å–∞–π–¥–±–∞—Ä –∏ –æ—Ç–≤–µ—á–∞–µ—Ç –∑–∞ –∑–∞–≥—Ä—É–∑–∫—É –¥–∞–Ω–Ω—ã—Ö,
     –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è –ø—Ä–∞–≤–∏–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥ –∫ –∞–Ω–∞–ª–∏–∑—É.

–ü—Ä–∏–º–µ—á–∞–Ω–∏—è:
- –ï—Å–ª–∏ –≤—ã–±—Ä–∞–Ω–Ω—ã–π —Ñ–∞–π–ª –Ω–µ —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É–µ—Ç –Ω–µ–æ–±—Ö–æ–¥–∏–º—ã–º –∫—Ä–∏—Ç–µ—Ä–∏—è–º, –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—é –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç—Å—è —Å–æ–æ—Ç–≤–µ—Ç—Å—Ç–≤—É—é—â–µ–µ
  —Å–æ–æ–±—â–µ–Ω–∏–µ —Å –ø—Ä–æ—Å—å–±–æ–π –∑–∞–≥—Ä—É–∑–∏—Ç—å —Ñ–∞–π–ª —Å –ø—Ä–∞–≤–∏–ª—å–Ω—ã–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏ —Å—Ç–æ–ª–±—Ü–æ–≤.
- –ü—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –æ–ø—Ç–∏–º–∏–∑–∏—Ä–æ–≤–∞–Ω–æ —Å —É—á–µ—Ç–æ–º –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö –ø—Ä–µ–¥–ø–æ—á—Ç–µ–Ω–∏–π, –æ–±–µ—Å–ø–µ—á–∏–≤–∞—è —É–¥–æ–±—Å—Ç–≤–æ –∏ –ø–æ–Ω—è—Ç–Ω–æ—Å—Ç—å
  –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å–∞.
'''

import streamlit as st

# –ù–∞–≤–∏–≥–∞—Ü–∏—è
def navigation():
    st.sidebar.title('–ù–∞–≤–∏–≥–∞—Ü–∏—è')
    page = st.sidebar.radio('–í—ã–±–µ—Ä–∏—Ç–µ —Å—Ç—Ä–∞–Ω–∏—Ü—É:',
                            ['–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö', '–ê–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π'])
    if page == '–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö':
        import EDA_page
        EDA_page.run()
    elif page == '–ê–Ω–∞–ª–∏–∑ –Ω–æ–≤–æ—Å—Ç–µ–π':
        import news
        news.run()

def navigation_csv():
    # st.sidebar.title('–ù–∞–≤–∏–≥–∞—Ü–∏—è')
    page = st.sidebar.radio('',
                            ['–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö'])
    if page == '–ê–Ω–∞–ª–∏–∑ –¥–∞–Ω–Ω—ã—Ö':
        import EDA_page
        EDA_page.run()

def main():
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å—Ç—Ä–∞–Ω–∏—Ü—ã
    st.set_page_config(page_title='–ö–æ–º–∞–Ω–¥–∞ 27', page_icon='üìà')
    # –ù–∞—Å—Ç—Ä–æ–π–∫–∞ —Å–∞–π–¥–µ–±–∞—Ä–∞ —Å–ª–µ–≤–∞
    st.sidebar.title('–ó–∞–≥—Ä—É–∑–∫–∞ –¥–∞—Ç–∞—Å–µ—Ç–∞')
    upload_option = st.sidebar.radio('–í—ã–±–µ—Ä–∏—Ç–µ –≤–∞—Ä–∏–∞–Ω—Ç –∑–∞–≥—Ä—É–∑–∫–∏:',
                                     ['–ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö', '–ó–∞–≥—Ä—É–∑–∫–∞ CSV-—Ñ–∞–π–ª–∞'], index=None)

    flag = 0
    if upload_option == '–ò–∑ –±–∞–∑—ã –¥–∞–Ω–Ω—ã—Ö':
        st.session_state = None
        flag = 1
    elif upload_option == '–ó–∞–≥—Ä—É–∑–∫–∞ CSV-—Ñ–∞–π–ª–∞':
        data = st.sidebar.file_uploader("**–ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV-—Ñ–∞–π–ª**", type=["csv"])
        if data is not None:
            import database_csv
            flag = database_csv.run(data)
        else:
            st.title(':blue[–ö–æ–º–∞–Ω–¥–∞ 27. "–ü—Ä–µ–¥—Å–∫–∞–∑–∞–Ω–∏–µ –¥–≤–∏–∂–µ–Ω–∏—è —Ü–µ–Ω –Ω–∞ —Ñ—å—é—á–µ—Ä—Å—ã –Ω–∞ –æ—Å–Ω–æ–≤–µ —Ç–µ–∫—Å—Ç–æ–≤—ã—Ö –¥–∞–Ω–Ω—ã—Ö"]')
            st.warning('### –ó–∞–≥—Ä—É–∑–∏—Ç–µ CSV-—Ñ–∞–π–ª –≤ –ª–µ–≤–æ–º –æ–∫–æ—à–∫–µ ###')
            st.write('–í–∞—à CSV-—Ñ–∞–π–ª –¥–æ–ª–∂–µ–Ω —Å–æ–¥–µ—Ä–∂–∞—Ç—å —Ö–æ—Ç—è –±—ã 3 —Å—Ç–æ–ª–±–∏–∫–∞ —Å–æ —Å–ª–µ–¥—É—é—â–∏–º–∏ –Ω–∞–∑–≤–∞–Ω–∏—è–º–∏: "close", "business_date", "ticker"')
    else:
        import page1
        page1.run()

    if flag == 1:
        navigation()
    elif flag == 2:
        navigation_csv()

if __name__ == "__main__":
    main()
